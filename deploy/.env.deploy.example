# ═══════════════════════════════════════════════════════════
#  ExcelManus 部署配置
#
#  deploy.sh 按以下优先级读取配置：
#    命令行参数 > 环境变量 > 本文件 > 内置默认值
#
#  复制此文件为 .env.deploy 并填入真实值：
#    cp .env.deploy.example .env.deploy
# ═══════════════════════════════════════════════════════════

# ── 部署拓扑 ──
# 不设置则自动检测：
#   - BACKEND_SERVER ≠ FRONTEND_SERVER → split（前后端分离）
#   - 只设置一个 → single（单机）
#   - 都不设置 → local（本地）

# ── 服务器地址 ──
# 单机部署只需设置 BACKEND_SERVER，FRONTEND_SERVER 留空或设为相同值
BACKEND_SERVER=
FRONTEND_SERVER=
SERVER_USER=root

# ── 远程目录 ──
BACKEND_REMOTE_DIR=/www/wwwroot/excelmanus
FRONTEND_REMOTE_DIR=/www/wwwroot/excelmanus

# ── Node.js 路径 ──
# 各服务器上 node/npm/pm2 所在目录
# 常见路径：
#   /usr/local/bin                    （系统安装）
#   /usr/bin                          （包管理器安装）
#   /www/server/nodejs/v22.22.0/bin   （宝塔面板）
#   ~/.nvm/versions/node/v22/bin      （nvm）
BACKEND_NODE_BIN=/usr/local/bin
FRONTEND_NODE_BIN=/usr/local/bin

# ── Python ──
# PYTHON_BIN=python3
# VENV_DIR=venv

# ── 端口 ──
BACKEND_PORT=8000
# FRONTEND_PORT=3000

# ── PM2 进程名 ──
# PM2_BACKEND=excelmanus-api
# PM2_FRONTEND=excelmanus-web

# ── 域名 ──
SITE_DOMAIN=
SITE_URL=

# ── Git 仓库 ──
REPO_URL=https://github.com/kilolonion/excelmanus
REPO_BRANCH=main

# ── SSH 密钥 ──
# 相对于项目根目录的路径
SSH_KEY_NAME=

# ── 服务管理器 ──
# pm2（默认）| systemd | nssm（仅 Windows）
# SERVICE_MANAGER=pm2

# ── 健康检查 ──
# 留空则自动生成：${SITE_URL}/api/v1/health
# HEALTH_URL=
# VERIFY_TIMEOUT=30

# ── 部署 Hooks ──
# 部署前/后执行的脚本（绝对或相对路径）
# PRE_DEPLOY_HOOK=
# POST_DEPLOY_HOOK=
